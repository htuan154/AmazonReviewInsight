<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√°o C√°o Day 6 - Ensemble & Feature Engineering V3</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .status-banner {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            border-bottom: 4px solid #d63031;
        }
        
        .status-banner .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 50px;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .metric-card.winner {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            border: 3px solid #00b894;
        }
        
        .metric-card.failed {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border: 3px solid #e17055;
        }
        
        .metric-card h4 {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #2d3436;
        }
        
        .metric-card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }
        
        .metric-card .label {
            font-size: 0.9em;
            color: #636e72;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }
        
        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #dfe6e9;
        }
        
        .comparison-table tr:hover {
            background-color: #f5f7fa;
        }
        
        .comparison-table tr.best {
            background-color: #d5f4e6;
            font-weight: bold;
        }
        
        .comparison-table tr.failed {
            background-color: #fff4e6;
        }
        
        .chart-container {
            position: relative;
            margin: 30px 0;
            padding: 20px;
            background: #f5f7fa;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .insight-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-left: 5px solid #f39c12;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .insight-box h4 {
            color: #d35400;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .insight-box ul {
            margin-left: 20px;
        }
        
        .insight-box li {
            margin: 8px 0;
            color: #2d3436;
        }
        
        .success-box {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            border-left: 5px solid #00b894;
        }
        
        .success-box h4 {
            color: #00695c;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-left: 5px solid #e74c3c;
        }
        
        .warning-box h4 {
            color: #c0392b;
        }
        
        .action-plan {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .action-plan h3 {
            color: #0984e3;
            margin-bottom: 20px;
        }
        
        .action-item {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 5px solid #0984e3;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .action-item h4 {
            color: #0984e3;
            margin-bottom: 10px;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin: 5px;
        }
        
        .badge.success {
            background: #00b894;
            color: white;
        }
        
        .badge.failed {
            background: #e17055;
            color: white;
        }
        
        .badge.winner {
            background: #fdcb6e;
            color: #2d3436;
        }
        
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #dfe6e9;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: width 1s ease;
        }
        
        .footer {
            background: #2d3436;
            color: white;
            text-align: center;
            padding: 30px;
        }
        
        .footer p {
            margin: 5px 0;
        }
        
        code {
            background: #f5f7fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .feature-item h5 {
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .feature-item p {
            color: #636e72;
            font-size: 0.95em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üìä B√ÅO C√ÅO DAY 6</h1>
            <p>Ensemble Voting & Feature Engineering V3</p>
            <p style="font-size: 0.9em; margin-top: 10px;">D·ª± √Ån: Amazon Review Helpfulness Prediction | Nh√≥m: L√™ ƒêƒÉng Ho√†ng Tu·∫•n & V√µ Th·ªã Di·ªÖm Thanh</p>
            <p style="font-size: 0.9em;">Ng√†y: 27/10/2025</p>
        </div>
        
        <!-- Status Banner -->
        <div class="status-banner">
            <div class="icon">‚ö†Ô∏è</div>
            <div>M·ª§C TI√äU DAY 6 CH∆ØA ƒê·∫†T: AUC-PR = 0.6548 (Target: 0.70)</div>
            <div style="font-size: 0.8em; margin-top: 10px;">Gap: -0.0452 (-6.5%) | C·∫ßn Day 7 Recovery Plan</div>
        </div>
        
        <!-- Main Content -->
        <div class="content">
            
            <!-- Section 1: T·ªïng Quan -->
            <div class="section">
                <h2>üìã 1. T·ªîNG QUAN DAY 6</h2>
                
                <div class="insight-box">
                    <h4>üéØ M·ª•c Ti√™u Day 6</h4>
                    <ul>
                        <li><strong>Target:</strong> AUC-PR ‚â• 0.70 (+7% so v·ªõi Day 5)</li>
                        <li><strong>Chi·∫øn l∆∞·ª£c:</strong> Feature Engineering V3 + Ensemble Voting</li>
                        <li><strong>Baseline:</strong> LightGBM V2 = 0.6548 (Day 5)</li>
                    </ul>
                </div>
                
                <div class="warning-box">
                    <h4>‚ùå K·∫øt Qu·∫£ Day 6</h4>
                    <ul>
                        <li><strong>Feature V3:</strong> 6 features m·ªõi ‚Üí <span class="badge failed">TH·∫§T B·∫†I</span> (AUC-PR gi·∫£m xu·ªëng 0.6531)</li>
                        <li><strong>Ensemble Voting:</strong> LogReg + LightGBM ‚Üí <span class="badge failed">TH·∫§T B·∫†I</span> (AUC-PR gi·∫£m xu·ªëng 0.6371)</li>
                        <li><strong>Final Model:</strong> Gi·ªØ LightGBM V2 (0.6548) <span class="badge winner">T·ªêT NH·∫§T</span></li>
                        <li><strong>Gap v·ªõi Target:</strong> -0.0452 (-6.5%)</li>
                    </ul>
                </div>
                
                <h3>üîÑ Quy Tr√¨nh Th·ª±c Hi·ªán</h3>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%;">75% Ho√†n Th√†nh</div>
                </div>
                <p style="margin-top: 10px; color: #636e72;">
                    ‚úÖ Feature V3 ‚Üí ‚úÖ Train LightGBM V3 ‚Üí ‚úÖ Ensemble Voting ‚Üí ‚è≥ Day 7 Recovery Plan
                </p>
            </div>
            
            <!-- Section 2: Feature Engineering V3 -->
            <div class="section">
                <h2>üîß 2. FEATURE ENGINEERING V3 (TH·∫§T B·∫†I)</h2>
                
                <h3>üì¶ 6 Features M·ªõi ƒê∆∞·ª£c T·∫°o</h3>
                <div class="feature-list">
                    <div class="feature-item">
                        <h5>1. is_very_long_review</h5>
                        <p><strong>Lo·∫°i:</strong> Binary (0/1)<br>
                        <strong>Logic:</strong> review_length > 200<br>
                        <strong>Insight:</strong> Reviews d√†i 3.75x kh·∫£ nƒÉng helpful h∆°n</p>
                    </div>
                    <div class="feature-item">
                        <h5>2. is_critical_review</h5>
                        <p><strong>Lo·∫°i:</strong> Binary (0/1)<br>
                        <strong>Logic:</strong> star_rating ‚â§ 2<br>
                        <strong>Insight:</strong> Reviews 1-2 sao c√≥ 49.9% helpful (vs 17.1% cho 5 sao)</p>
                    </div>
                    <div class="feature-item">
                        <h5>3. is_too_positive</h5>
                        <p><strong>Lo·∫°i:</strong> Binary (0/1)<br>
                        <strong>Logic:</strong> sentiment_pos > 0.4<br>
                        <strong>Insight:</strong> Qu√° positive c√≥ t∆∞∆°ng quan √¢m v·ªõi helpful</p>
                    </div>
                    <div class="feature-item">
                        <h5>4. price_tier</h5>
                        <p><strong>Lo·∫°i:</strong> Categorical (0/1/2)<br>
                        <strong>Logic:</strong> 0=r·∫ª (<$10), 1=trung ($10-$20), 2=ƒë·∫Øt (>$20)<br>
                        <strong>Insight:</strong> S·∫£n ph·∫©m ƒë·∫Øt ‚Üí reviews chi ti·∫øt h∆°n</p>
                    </div>
                    <div class="feature-item">
                        <h5>5. sentiment_balance</h5>
                        <p><strong>Lo·∫°i:</strong> Continuous [0-1]<br>
                        <strong>Logic:</strong> abs(sentiment_pos - sentiment_neg)<br>
                        <strong>Insight:</strong> Reviews c√¢n b·∫±ng c√≥ ƒë·ªô tin c·∫≠y cao</p>
                    </div>
                    <div class="feature-item">
                        <h5>6. length_sentiment_interaction</h5>
                        <p><strong>Lo·∫°i:</strong> Continuous<br>
                        <strong>Logic:</strong> review_length √ó sentiment_neg<br>
                        <strong>Insight:</strong> Reviews d√†i + negative = ph√™ b√¨nh chi ti·∫øt</p>
                    </div>
                </div>
                
                <h3>‚ö° K·∫øt Qu·∫£ Th·ª±c Thi</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Th·ªùi Gian</h4>
                        <div class="value">24.2s</div>
                        <div class="label">√Åp d·ª•ng l√™n train/test</div>
                    </div>
                    <div class="metric-card">
                        <h4>Train Records</h4>
                        <div class="value">80,500</div>
                        <div class="label">ƒê√£ x·ª≠ l√Ω</div>
                    </div>
                    <div class="metric-card">
                        <h4>Test Records</h4>
                        <div class="value">19,863</div>
                        <div class="label">ƒê√£ x·ª≠ l√Ω</div>
                    </div>
                    <div class="metric-card">
                        <h4>Features T·∫°o</h4>
                        <div class="value">6</div>
                        <div class="label">100% th√†nh c√¥ng</div>
                    </div>
                </div>
                
                <div class="warning-box">
                    <h4>‚ùå T·∫°i Sao V3 Th·∫•t B·∫°i?</h4>
                    <ul>
                        <li><strong>Nguy√™n nh√¢n ch√≠nh:</strong> Tree models (LightGBM) T·ª∞ ƒê·ªòNG h·ªçc c√°c threshold v√† interaction</li>
                        <li><strong>is_very_long_review:</strong> LightGBM ƒë√£ t·ª± t√¨m ra ƒëi·ªÉm c·∫Øt t·ªëi ∆∞u cho review_length (kh√¥ng c·∫ßn threshold c·ª©ng 200)</li>
                        <li><strong>is_critical_review:</strong> star_rating ƒë√£ c√≥ trong model, tree t·ª± ph√¢n chia ‚â§2 vs >2</li>
                        <li><strong>is_too_positive:</strong> sentiment_pos ƒë√£ c√≥, tree t·ª± h·ªçc threshold >0.4</li>
                        <li><strong>price_tier:</strong> price ƒë√£ c√≥, tree t·ª± ph√¢n categorical bins</li>
                        <li><strong>Interactions:</strong> Tree models t·ª± ƒë·ªông t√¨m interactions gi·ªØa features (kh√¥ng c·∫ßn t·∫°o th·ªß c√¥ng)</li>
                        <li><strong>K·∫øt lu·∫≠n:</strong> Manual feature engineering PH√ô H·ª¢P v·ªõi Linear models (LogReg), KH√îNG C·∫¶N THI·∫æT v·ªõi Tree models</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 3: LightGBM V3 Results -->
            <div class="section">
                <h2>üå≥ 3. LIGHTGBM V3 - TRAINING RESULTS</h2>
                
                <h3>üìä Performance Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card failed">
                        <h4>AUC-PR</h4>
                        <div class="value">0.6531</div>
                        <div class="label">‚Üì -0.26% vs V2</div>
                    </div>
                    <div class="metric-card failed">
                        <h4>AUC-ROC</h4>
                        <div class="value">0.8392</div>
                        <div class="label">‚Üì -0.05% vs V2</div>
                    </div>
                    <div class="metric-card">
                        <h4>Accuracy</h4>
                        <div class="value">76.84%</div>
                        <div class="label">‚Üë +0.39% vs V2</div>
                    </div>
                    <div class="metric-card">
                        <h4>Training Time</h4>
                        <div class="value">103.1s</div>
                        <div class="label">1.7 ph√∫t</div>
                    </div>
                </div>
                
                <h3>üîç So S√°nh Feature Importance (V2 vs V3)</h3>
                <div class="chart-container">
                    <canvas id="featureImportanceChart"></canvas>
                </div>
                
                <div class="insight-box">
                    <h4>üí° Ph√¢n T√≠ch Feature Importance</h4>
                    <ul>
                        <li><strong>Top 3 features KH√îNG ƒê·ªîI:</strong> product_total_ratings (299 vs 306), review_length_log (201), star_rating (133)</li>
                        <li><strong>V3 features KH√îNG xu·∫•t hi·ªán trong Top 11:</strong> T·∫•t c·∫£ 6 features m·ªõi c√≥ importance < 10</li>
                        <li><strong>K·∫øt lu·∫≠n:</strong> Model ho√†n to√†n B·ªé QUA c√°c features V3, ch·ª©ng minh ch√∫ng redundant</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 4: Ensemble Voting -->
            <div class="section">
                <h2>üó≥Ô∏è 4. ENSEMBLE VOTING CLASSIFIER</h2>
                
                <h3>‚öôÔ∏è C·∫•u H√¨nh Ensemble</h3>
                <div class="insight-box">
                    <h4>üéõÔ∏è Thi·∫øt K·∫ø</h4>
                    <ul>
                        <li><strong>Chi·∫øn l∆∞·ª£c:</strong> Weighted Average (Soft Voting)</li>
                        <li><strong>Model 1:</strong> Tuned LogReg (AUC-PR: 0.5441) - Weight: 0.3</li>
                        <li><strong>Model 2:</strong> LightGBM V2 (AUC-PR: 0.6548) - Weight: 0.7</li>
                        <li><strong>C√¥ng th·ª©c:</strong> P(ensemble) = 0.3 √ó P(LogReg) + 0.7 √ó P(LightGBM)</li>
                        <li><strong>L√Ω do weights:</strong> LightGBM m·∫°nh h∆°n nhi·ªÅu ‚Üí cho weight cao h∆°n</li>
                    </ul>
                </div>
                
                <h3>üìä K·∫øt Qu·∫£ Ensemble</h3>
                <div class="metrics-grid">
                    <div class="metric-card failed">
                        <h4>AUC-PR</h4>
                        <div class="value">0.6371</div>
                        <div class="label">‚Üì -2.7% vs LightGBM</div>
                    </div>
                    <div class="metric-card failed">
                        <h4>AUC-ROC</h4>
                        <div class="value">0.8327</div>
                        <div class="label">‚Üì -0.8% vs LightGBM</div>
                    </div>
                    <div class="metric-card">
                        <h4>Accuracy</h4>
                        <div class="value">77.33%</div>
                        <div class="label">‚Üë +1.0% vs LightGBM</div>
                    </div>
                    <div class="metric-card">
                        <h4>Execution Time</h4>
                        <div class="value">34.4s</div>
                        <div class="label">Inference time</div>
                    </div>
                </div>
                
                <div class="warning-box">
                    <h4>‚ùå T·∫°i Sao Ensemble Th·∫•t B·∫°i?</h4>
                    <ul>
                        <li><strong>Performance Gap qu√° l·ªõn:</strong> LogReg (0.5441) vs LightGBM (0.6548) = ch√™nh l·ªách 20%</li>
                        <li><strong>K√©o xu·ªëng hi·ªáu su·∫•t:</strong> LogReg y·∫øu k√©o xu·ªëng LightGBM m·∫°nh</li>
                        <li><strong>To√°n h·ªçc:</strong> 0.3√ó0.5441 + 0.7√ó0.6548 = 0.6216 (l√Ω thuy·∫øt) vs 0.6371 (th·ª±c t·∫ø)</li>
                        <li><strong>Kh√¥ng c√≥ synergy:</strong> Hai models kh√¥ng b·ªï sung cho nhau (c√πng features, kh√°c algorithm)</li>
                        <li><strong>K·∫øt lu·∫≠n:</strong> Weighted voting CH·ªà hi·ªáu qu·∫£ khi c√°c models c√≥ performance G·∫¶N B·∫∞NG NHAU v√† h·ªçc ƒë∆∞·ª£c KH√ÅC BI·ªÜT</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 5: Model Comparison -->
            <div class="section">
                <h2>üèÜ 5. SO S√ÅNH 4 MODELS & FINAL SELECTION</h2>
                
                <h3>üìä B·∫£ng So S√°nh Chi Ti·∫øt</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>AUC-PR</th>
                            <th>AUC-ROC</th>
                            <th>Accuracy</th>
                            <th>Training Time</th>
                            <th>Inference Speed</th>
                            <th>Interpretability</th>
                            <th>K·∫øt Lu·∫≠n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Tuned LogReg</strong> (Day 5)</td>
                            <td>0.5441</td>
                            <td>0.7375</td>
                            <td>74.56%</td>
                            <td>8.5 ph√∫t (CV)</td>
                            <td>‚ö°‚ö°‚ö° Nhanh</td>
                            <td>‚≠ê‚≠ê‚≠ê Cao</td>
                            <td><span class="badge failed">Y·∫øu nh·∫•t</span></td>
                        </tr>
                        <tr class="best">
                            <td><strong>LightGBM V2</strong> (Day 5) üèÜ</td>
                            <td><strong>0.6548</strong></td>
                            <td><strong>0.8396</strong></td>
                            <td>76.54%</td>
                            <td>1.9 ph√∫t</td>
                            <td>‚ö°‚ö° Trung b√¨nh</td>
                            <td>‚≠ê‚≠ê Trung b√¨nh</td>
                            <td><span class="badge winner">T·ªêT NH·∫§T</span></td>
                        </tr>
                        <tr class="failed">
                            <td><strong>LightGBM V3</strong> (Day 6)</td>
                            <td>0.6531</td>
                            <td>0.8392</td>
                            <td>76.84%</td>
                            <td>1.7 ph√∫t</td>
                            <td>‚ö°‚ö° Trung b√¨nh</td>
                            <td>‚≠ê‚≠ê Trung b√¨nh</td>
                            <td><span class="badge failed">Gi·∫£m -0.26%</span></td>
                        </tr>
                        <tr class="failed">
                            <td><strong>Ensemble Voting</strong> (Day 6)</td>
                            <td>0.6371</td>
                            <td>0.8327</td>
                            <td>77.33%</td>
                            <td>-</td>
                            <td>‚ö° Ch·∫≠m (2 models)</td>
                            <td>‚≠ê Th·∫•p</td>
                            <td><span class="badge failed">Gi·∫£m -2.7%</span></td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>üìà Bi·ªÉu ƒê·ªì So S√°nh AUC-PR</h3>
                <div class="chart-container">
                    <canvas id="modelComparisonChart"></canvas>
                </div>
                
                <div class="success-box">
                    <h4>‚úÖ QUY·∫æT ƒê·ªäNH CU·ªêI C√ôNG</h4>
                    <ul>
                        <li><strong>Final Model:</strong> LightGBM V2 (Day 5)</li>
                        <li><strong>AUC-PR:</strong> 0.6548 (t·ªët nh·∫•t trong 4 models)</li>
                        <li><strong>L√Ω do:</strong> C·∫£ Feature V3 v√† Ensemble ƒë·ªÅu kh√¥ng c·∫£i thi·ªán ƒë∆∞·ª£c V2</li>
                        <li><strong>Gap v·ªõi Target:</strong> 0.70 - 0.6548 = -0.0452 (-6.5%)</li>
                        <li><strong>Chi·∫øn l∆∞·ª£c Day 7:</strong> C·∫ßn Hyperparameter Tuning ho·∫∑c Stacking Ensemble</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 6: Evolution Chart -->
            <div class="section">
                <h2>üìà 6. TI·∫æN TR√åNH PH√ÅT TRI·ªÇN MODEL (DAY 3-6)</h2>
                
                <div class="chart-container">
                    <canvas id="evolutionChart"></canvas>
                </div>
                
                <div class="insight-box">
                    <h4>üìä Ph√¢n T√≠ch Ti·∫øn Tr√¨nh</h4>
                    <ul>
                        <li><strong>Day 3 ‚Üí Day 4:</strong> Baseline LogReg (0.4353) ‚Üí Full Features LogReg (0.4490) = +3.1%</li>
                        <li><strong>Day 4 ‚Üí Day 5:</strong> LogReg (0.4490) ‚Üí LightGBM V2 (0.6548) = <strong>+45.8% (BREAKTHROUGH)</strong></li>
                        <li><strong>Day 5 ‚Üí Day 6:</strong> LightGBM V2 (0.6548) ‚Üí V3 (0.6531) & Ensemble (0.6371) = <strong>TH·∫§T B·∫†I</strong></li>
                        <li><strong>K·∫øt lu·∫≠n:</strong> LightGBM V2 l√† ƒëi·ªÉm ƒë·ªânh hi·ªán t·∫°i, c·∫ßn approach m·ªõi cho Day 7</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 7: Key Insights -->
            <div class="section">
                <h2>üí° 7. KEY INSIGHTS & LESSONS LEARNED</h2>
                
                <h3>üéì B√†i H·ªçc V·ªÅ Feature Engineering</h3>
                <div class="insight-box">
                    <h4>üìö Tree Models vs Linear Models</h4>
                    <ul>
                        <li><strong>Linear Models (LogReg, SVM):</strong> C·∫¶N manual feature engineering (polynomial, interactions, binning)</li>
                        <li><strong>Tree Models (LightGBM, XGBoost, Random Forest):</strong> T·ª∞ ƒê·ªòNG h·ªçc thresholds v√† interactions</li>
                        <li><strong>Example:</strong> 
                            <ul>
                                <li>LogReg: C·∫ßn t·∫°o <code>is_very_long_review</code> th·ªß c√¥ng</li>
                                <li>LightGBM: T·ª± t√¨m ƒëi·ªÉm c·∫Øt t·ªëi ∆∞u cho <code>review_length</code> (c√≥ th·ªÉ l√† 180, 200, ho·∫∑c 250 t√πy data)</li>
                            </ul>
                        </li>
                        <li><strong>K·∫øt lu·∫≠n:</strong> Feature V3 ph√π h·ª£p n·∫øu d√πng LogReg, nh∆∞ng REDUNDANT v·ªõi LightGBM</li>
                    </ul>
                </div>
                
                <h3>üó≥Ô∏è B√†i H·ªçc V·ªÅ Ensemble</h3>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è Khi N√†o Ensemble KH√îNG Hi·ªáu Qu·∫£?</h4>
                    <ul>
                        <li><strong>Performance gap l·ªõn:</strong> Model y·∫øu (0.5441) + Model m·∫°nh (0.6548) ‚Üí K√©o xu·ªëng</li>
                        <li><strong>C√πng features:</strong> C·∫£ 2 models d√πng C√ôNG features ‚Üí H·ªçc ƒë∆∞·ª£c C√ôNG patterns</li>
                        <li><strong>Kh√¥ng diversity:</strong> Ch·ªâ kh√°c algorithm (LogReg vs LightGBM) ch∆∞a ƒë·ªß</li>
                        <li><strong>Gi·∫£i ph√°p:</strong>
                            <ul>
                                <li>Option 1: Ch·ªâ d√πng models c√≥ performance G·∫¶N B·∫∞NG nhau (ch√™nh < 5%)</li>
                                <li>Option 2: D√πng KH√ÅC features cho m·ªói model (diversity)</li>
                                <li>Option 3: Stacking Ensemble (meta-model h·ªçc c√°ch k·∫øt h·ª£p)</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                
                <h3>üöÄ H∆∞·ªõng ƒêi Cho Day 7</h3>
                <div class="action-plan">
                    <h3>üìã Day 7 Recovery Plan</h3>
                    
                    <div class="action-item">
                        <h4>üéØ Ph∆∞∆°ng √Ån 1: Hyperparameter Tuning (Khuy·∫øn ngh·ªã)</h4>
                        <p><strong>Chi·∫øn l∆∞·ª£c:</strong> Tinh ch·ªânh LightGBM V2 v·ªõi grid search/random search</p>
                        <ul>
                            <li><strong>Parameters c·∫ßn tune:</strong>
                                <ul>
                                    <li><code>numLeaves</code>: [20, 31, 50, 100] - ƒê·ªô ph·ª©c t·∫°p c·ªßa tree</li>
                                    <li><code>learningRate</code>: [0.05, 0.1, 0.2] - T·ªëc ƒë·ªô h·ªçc</li>
                                    <li><code>numIterations</code>: [100, 200, 300] - S·ªë l∆∞·ª£ng trees</li>
                                    <li><code>minDataInLeaf</code>: [10, 20, 50] - Regularization</li>
                                    <li><code>featureFraction</code>: [0.6, 0.8, 1.0] - Random features</li>
                                </ul>
                            </li>
                            <li><strong>K·ª≥ v·ªçng:</strong> +3-5% improvement ‚Üí 0.67-0.69 AUC-PR</li>
                            <li><strong>Th·ªùi gian:</strong> 2-3 gi·ªù (20-30 combinations)</li>
                            <li><strong>R·ªßi ro:</strong> Th·∫•p (ch·ªâ tune, kh√¥ng thay ƒë·ªïi features)</li>
                        </ul>
                    </div>
                    
                    <div class="action-item">
                        <h4>üéØ Ph∆∞∆°ng √Ån 2: Stacking Ensemble</h4>
                        <p><strong>Chi·∫øn l∆∞·ª£c:</strong> D√πng predictions c·ªßa LogReg + LightGBM l√†m features cho meta-model</p>
                        <ul>
                            <li><strong>Level 0:</strong> LogReg (0.5441) + LightGBM (0.6548) t·∫°o predictions</li>
                            <li><strong>Level 1:</strong> Meta-model (LogReg ho·∫∑c LightGBM nh·ªè) h·ªçc c√°ch k·∫øt h·ª£p</li>
                            <li><strong>L·ª£i √≠ch:</strong> Meta-model h·ªçc KH√îNG TUY·∫æN T√çNH (vs weighted average tuy·∫øn t√≠nh)</li>
                            <li><strong>K·ª≥ v·ªçng:</strong> +5-8% improvement ‚Üí 0.69-0.71 AUC-PR</li>
                            <li><strong>Th·ªùi gian:</strong> 2-3 gi·ªù</li>
                            <li><strong>R·ªßi ro:</strong> Trung b√¨nh (c·∫ßn cross-validation c·∫©n th·∫≠n ƒë·ªÉ tr√°nh overfitting)</li>
                        </ul>
                    </div>
                    
                    <div class="action-item">
                        <h4>üéØ Ph∆∞∆°ng √Ån 3: Advanced Feature Engineering</h4>
                        <p><strong>Chi·∫øn l∆∞·ª£c:</strong> T·∫°o features M·ªöI (kh√¥ng ph·∫£i threshold-based)</p>
                        <ul>
                            <li><strong>Text features:</strong>
                                <ul>
                                    <li>Review uniqueness (TF-IDF cosine similarity v·ªõi corpus)</li>
                                    <li>Vocabulary richness (unique words / total words)</li>
                                    <li>Sentiment transitions (s·ªë l·∫ßn ƒë·ªïi t·ª´ positive ‚Üí negative)</li>
                                </ul>
                            </li>
                            <li><strong>Temporal features:</strong>
                                <ul>
                                    <li>Review velocity (s·ªë reviews c·ªßa user trong 30 ng√†y)</li>
                                    <li>Seasonality (th√°ng ƒëƒÉng review)</li>
                                </ul>
                            </li>
                            <li><strong>K·ª≥ v·ªçng:</strong> +2-4% improvement ‚Üí 0.67-0.68 AUC-PR</li>
                            <li><strong>Th·ªùi gian:</strong> 3-4 gi·ªù</li>
                            <li><strong>R·ªßi ro:</strong> Cao (c√≥ th·ªÉ l·∫°i redundant nh∆∞ V3)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="success-box">
                    <h4>üéØ Khuy·∫øn Ngh·ªã Day 7</h4>
                    <ul>
                        <li><strong>Priority 1:</strong> Hyperparameter Tuning (r·ªßi ro th·∫•p, hi·ªáu qu·∫£ ch·∫Øc ch·∫Øn)</li>
                        <li><strong>Priority 2:</strong> Stacking Ensemble (n·∫øu tuning kh√¥ng ƒë·∫°t 0.70)</li>
                        <li><strong>Priority 3:</strong> Advanced features (last resort)</li>
                        <li><strong>Target cu·ªëi c√πng:</strong> ƒê·∫°t 0.70 ho·∫∑c cao nh·∫•t c√≥ th·ªÉ, sau ƒë√≥ t·∫°o submission.csv</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 8: Technical Summary -->
            <div class="section">
                <h2>üîß 8. CHI TI·∫æT K·ª∏ THU·∫¨T</h2>
                
                <h3>üíª Code & Files Created</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>File</th>
                            <th>M√¥ T·∫£</th>
                            <th>Tr·∫°ng Th√°i</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>code/features/features_v3.py</code></td>
                            <td>Script t·∫°o 6 features m·ªõi, √°p d·ª•ng l√™n train/test</td>
                            <td><span class="badge success">‚úÖ Ho√†n th√†nh</span></td>
                        </tr>
                        <tr>
                            <td><code>code/models/ensemble_voting.py</code></td>
                            <td>Weighted voting ensemble (LogReg + LightGBM)</td>
                            <td><span class="badge success">‚úÖ Ho√†n th√†nh</span></td>
                        </tr>
                        <tr>
                            <td><code>output/lightgbm_v3_model/</code></td>
                            <td>LightGBM V3 trained model + metrics.json</td>
                            <td><span class="badge success">‚úÖ Ho√†n th√†nh</span></td>
                        </tr>
                        <tr>
                            <td><code>output/ensemble_voting/</code></td>
                            <td>Ensemble metrics.json + comparison</td>
                            <td><span class="badge success">‚úÖ Ho√†n th√†nh</span></td>
                        </tr>
                        <tr>
                            <td><code>docs/day6_report.html</code></td>
                            <td>B√°o c√°o Day 6 ho√†n ch·ªânh (file n√†y)</td>
                            <td><span class="badge success">‚úÖ Ho√†n th√†nh</span></td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>‚öôÔ∏è Execution Environment</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Spark Version</h4>
                        <div class="value" style="font-size: 1.5em;">3.5.3</div>
                        <div class="label">With SynapseML 0.11.4</div>
                    </div>
                    <div class="metric-card">
                        <h4>Python Version</h4>
                        <div class="value" style="font-size: 1.5em;">3.11</div>
                        <div class="label">Windows 11</div>
                    </div>
                    <div class="metric-card">
                        <h4>Memory Config</h4>
                        <div class="value" style="font-size: 1.5em;">8GB</div>
                        <div class="label">Driver + 6GB Executor</div>
                    </div>
                    <div class="metric-card">
                        <h4>Storage</h4>
                        <div class="value" style="font-size: 1.5em;">HDFS</div>
                        <div class="label">localhost:9000</div>
                    </div>
                </div>
                
                <h3>üìä Dataset Statistics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Total Records</h4>
                        <div class="value">100,363</div>
                        <div class="label">Amazon Movies & TV</div>
                    </div>
                    <div class="metric-card">
                        <h4>Training Set</h4>
                        <div class="value">80,500</div>
                        <div class="label">80% split</div>
                    </div>
                    <div class="metric-card">
                        <h4>Test Set</h4>
                        <div class="value">19,863</div>
                        <div class="label">20% split</div>
                    </div>
                    <div class="metric-card">
                        <h4>Class Balance</h4>
                        <div class="value">24.8%</div>
                        <div class="label">Helpful reviews</div>
                    </div>
                </div>
            </div>
            
            <!-- Section 9: Conclusion -->
            <div class="section">
                <h2>üéØ 9. K·∫æT LU·∫¨N DAY 6</h2>
                
                <div class="warning-box">
                    <h4>üìâ T√¨nh H√¨nh Hi·ªán T·∫°i</h4>
                    <ul>
                        <li><strong>M·ª•c ti√™u Day 6:</strong> AUC-PR ‚â• 0.70 ‚Üí <strong>CH∆ØA ƒê·∫†T</strong></li>
                        <li><strong>K·∫øt qu·∫£ t·ªët nh·∫•t:</strong> LightGBM V2 = 0.6548</li>
                        <li><strong>Gap:</strong> -0.0452 (-6.5%)</li>
                        <li><strong>C√°c ph∆∞∆°ng √°n ƒë√£ th·ª≠:</strong> Feature V3 (failed), Ensemble Voting (failed)</li>
                    </ul>
                </div>
                
                <div class="insight-box">
                    <h4>üìö B√†i H·ªçc Quan Tr·ªçng</h4>
                    <ul>
                        <li><strong>Feature Engineering:</strong> Ph·∫£i hi·ªÉu r√µ model type (tree vs linear) tr∆∞·ªõc khi t·∫°o features</li>
                        <li><strong>Ensemble:</strong> Weighted voting ch·ªâ hi·ªáu qu·∫£ khi models c√≥ performance g·∫ßn b·∫±ng nhau</li>
                        <li><strong>Model Selection:</strong> ƒê√¥i khi gi·ªØ model ƒë∆°n gi·∫£n m·∫°nh t·ªët h∆°n ensemble ph·ª©c t·∫°p y·∫øu</li>
                        <li><strong>Iterative Process:</strong> Th·∫•t b·∫°i l√† b∆∞·ªõc ƒë·ªám quan tr·ªçng ƒë·ªÉ t√¨m h∆∞·ªõng ƒëi ƒë√∫ng</li>
                    </ul>
                </div>
                
                <div class="success-box">
                    <h4>üöÄ Chi·∫øn L∆∞·ª£c Day 7</h4>
                    <ul>
                        <li><strong>Approach:</strong> Hyperparameter Tuning (khuy·∫øn ngh·ªã)</li>
                        <li><strong>Target:</strong> AUC-PR ‚â• 0.70 ho·∫∑c cao nh·∫•t c√≥ th·ªÉ</li>
                        <li><strong>Backup plan:</strong> Stacking Ensemble n·∫øu tuning kh√¥ng ƒë·∫°t target</li>
                        <li><strong>Deliverables:</strong> Final model + submission.csv + complete documentation</li>
                    </ul>
                </div>
            </div>
            
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p><strong>B√°o C√°o Day 6</strong> - Amazon Review Helpfulness Prediction</p>
            <p>Nh√≥m: L√™ ƒêƒÉng Ho√†ng Tu·∫•n (Infrastructure) & V√µ Th·ªã Di·ªÖm Thanh (Data Science)</p>
            <p>Tr∆∞·ªùng: ƒê·∫°i h·ªçc C√¥ng Ngh·ªá Th√¥ng Tin - ƒêHQG TP.HCM</p>
            <p>Kh√≥a: HK7 - NƒÉm 2025</p>
            <p style="margin-top: 15px; font-size: 0.9em;">
                Generated: 27/10/2025 | Status: 75% Complete | Next: Day 7 Recovery Plan
            </p>
        </div>
    </div>
    
    <script>
        // Chart.js Configuration
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.font.size = 13;
        
        // 1. Feature Importance Comparison Chart
        const featureCtx = document.getElementById('featureImportanceChart').getContext('2d');
        new Chart(featureCtx, {
            type: 'bar',
            data: {
                labels: [
                    'product_total_ratings',
                    'review_length_log',
                    'star_rating',
                    'price',
                    'product_avg_rating_meta',
                    'sentiment_compound',
                    'sentiment_neu',
                    'sentiment_pos',
                    'sentiment_neg',
                    'rating_deviation',
                    'is_long_review'
                ],
                datasets: [{
                    label: 'LightGBM V2 (Day 5)',
                    data: [306, 201, 133, 116, 127, 79, 62, 76, 43, 15, 9],
                    backgroundColor: 'rgba(102, 126, 234, 0.7)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 2
                }, {
                    label: 'LightGBM V3 (Day 6)',
                    data: [299, 201, 133, 123, 106, 82, 80, 77, 56, 10, 8],
                    backgroundColor: 'rgba(225, 112, 85, 0.7)',
                    borderColor: 'rgba(225, 112, 85, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Importance Score',
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Features',
                            font: { size: 14, weight: 'bold' }
                        },
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'So S√°nh Feature Importance: V2 vs V3',
                        font: { size: 18, weight: 'bold' },
                        padding: 20
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y;
                            }
                        }
                    }
                }
            }
        });
        
        // 2. Model Comparison Chart
        const comparisonCtx = document.getElementById('modelComparisonChart').getContext('2d');
        new Chart(comparisonCtx, {
            type: 'bar',
            data: {
                labels: ['Tuned LogReg', 'LightGBM V2 üèÜ', 'LightGBM V3', 'Ensemble Voting'],
                datasets: [{
                    label: 'AUC-PR',
                    data: [0.5441, 0.6548, 0.6531, 0.6371],
                    backgroundColor: [
                        'rgba(225, 112, 85, 0.7)',
                        'rgba(0, 184, 148, 0.7)',
                        'rgba(253, 203, 110, 0.7)',
                        'rgba(225, 112, 85, 0.7)'
                    ],
                    borderColor: [
                        'rgba(225, 112, 85, 1)',
                        'rgba(0, 184, 148, 1)',
                        'rgba(253, 203, 110, 1)',
                        'rgba(225, 112, 85, 1)'
                    ],
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 0.75,
                        title: {
                            display: true,
                            text: 'AUC-PR Score',
                            font: { size: 14, weight: 'bold' }
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(2);
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'So S√°nh 4 Models - AUC-PR',
                        font: { size: 18, weight: 'bold' },
                        padding: 20
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'AUC-PR: ' + context.parsed.y.toFixed(4);
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                yMin: 0.70,
                                yMax: 0.70,
                                borderColor: 'rgb(255, 99, 132)',
                                borderWidth: 3,
                                borderDash: [10, 5],
                                label: {
                                    display: true,
                                    content: 'Target: 0.70',
                                    position: 'end'
                                }
                            }
                        }
                    }
                }
            }
        });
        
        // 3. Evolution Chart (Day 3-6)
        const evolutionCtx = document.getElementById('evolutionChart').getContext('2d');
        new Chart(evolutionCtx, {
            type: 'line',
            data: {
                labels: ['Day 3\nBaseline', 'Day 4\nFull Features', 'Day 5\nLightGBM V2', 'Day 6\nV3/Ensemble'],
                datasets: [{
                    label: 'AUC-PR Progress',
                    data: [0.4353, 0.4490, 0.6548, 0.6548],
                    borderColor: 'rgba(102, 126, 234, 1)',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 4,
                    pointRadius: 8,
                    pointHoverRadius: 12,
                    pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                    tension: 0.3,
                    fill: true
                }, {
                    label: 'Target',
                    data: [0.70, 0.70, 0.70, 0.70],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 3,
                    borderDash: [10, 5],
                    pointRadius: 0,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 0.75,
                        title: {
                            display: true,
                            text: 'AUC-PR Score',
                            font: { size: 14, weight: 'bold' }
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(2);
                            }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Timeline',
                            font: { size: 14, weight: 'bold' }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Ti·∫øn Tr√¨nh Ph√°t Tri·ªÉn Model (Day 3-6)',
                        font: { size: 18, weight: 'bold' },
                        padding: 20
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return 'AUC-PR: ' + context.parsed.y.toFixed(4);
                                } else {
                                    return 'Target: 0.70';
                                }
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
