<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√°o C√°o Cu·ªëi K·ª≥ - Amazon Review Prediction (Day 1-7)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.4em;
            margin-top: 10px;
            opacity: 0.95;
        }
        
        .success-banner {
            background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
            color: white;
            padding: 40px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            border-bottom: 5px solid #00b894;
        }
        
        .success-banner .icon {
            font-size: 3em;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .content {
            padding: 50px;
        }
        
        .section {
            margin-bottom: 60px;
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section h2 {
            color: #00b894;
            font-size: 2.2em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #00b894;
        }
        
        .section h3 {
            color: #00cec9;
            font-size: 1.6em;
            margin: 30px 0 20px 0;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 35px 0;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.25);
        }
        
        .metric-card.champion {
            background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
            border: 4px solid #00b894;
            transform: scale(1.05);
        }
        
        .metric-card.champion .value {
            color: white;
            font-size: 3.2em;
        }
        
        .metric-card.champion h4, .metric-card.champion .label {
            color: white;
        }
        
        .metric-card h4 {
            font-size: 1.2em;
            margin-bottom: 12px;
            color: #2d3436;
        }
        
        .metric-card .value {
            font-size: 2.8em;
            font-weight: bold;
            color: #00b894;
            margin: 15px 0;
        }
        
        .metric-card .label {
            font-size: 1em;
            color: #636e72;
        }
        
        .timeline {
            position: relative;
            padding: 30px 0;
            margin: 40px 0;
        }
        
        .timeline-item {
            display: flex;
            margin: 30px 0;
            position: relative;
        }
        
        .timeline-marker {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            flex-shrink: 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .timeline-marker.failed {
            background: linear-gradient(135deg, #e17055 0%, #fdcb6e 100%);
        }
        
        .timeline-content {
            flex: 1;
            margin-left: 30px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #00b894;
        }
        
        .timeline-content.failed {
            border-left-color: #e17055;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 35px 0;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .comparison-table th {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: bold;
            font-size: 1.05em;
        }
        
        .comparison-table td {
            padding: 18px;
            border-bottom: 1px solid #dfe6e9;
        }
        
        .comparison-table tr:hover {
            background-color: #f5f7fa;
        }
        
        .comparison-table tr.champion {
            background: linear-gradient(135deg, #55efc4 0%, #81ecec 100%);
            font-weight: bold;
        }
        
        .chart-container {
            position: relative;
            margin: 40px 0;
            padding: 30px;
            background: #f5f7fa;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            height: 500px;
        }
        
        .success-box {
            background: linear-gradient(135deg, #55efc4 0%, #81ecec 100%);
            border-left: 6px solid #00b894;
            padding: 25px;
            margin: 25px 0;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .success-box h4 {
            color: #00695c;
            margin-bottom: 12px;
            font-size: 1.4em;
        }
        
        .success-box ul {
            margin-left: 25px;
        }
        
        .success-box li {
            margin: 10px 0;
            color: #2d3436;
            font-size: 1.05em;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-left: 6px solid #f39c12;
            padding: 25px;
            margin: 25px 0;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .warning-box h4 {
            color: #d35400;
            margin-bottom: 12px;
            font-size: 1.4em;
        }
        
        .info-box {
            background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
            border-left: 6px solid #0984e3;
            padding: 25px;
            margin: 25px 0;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .info-box h4 {
            color: #0652DD;
            margin-bottom: 12px;
            font-size: 1.4em;
        }
        
        .badge {
            display: inline-block;
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: bold;
            margin: 5px;
        }
        
        .badge.success {
            background: #00b894;
            color: white;
        }
        
        .badge.failed {
            background: #e17055;
            color: white;
        }
        
        .badge.champion {
            background: #fdcb6e;
            color: #2d3436;
        }
        
        .footer {
            background: #2d3436;
            color: white;
            text-align: center;
            padding: 40px;
        }
        
        .footer p {
            margin: 8px 0;
        }
        
        code {
            background: #f5f7fa;
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
            font-size: 0.95em;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fff9e6 0%, #ffeaa7 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #fdcb6e;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üèÜ B√ÅO C√ÅO CU·ªêI K·ª≤ HO√ÄN CH·ªàNH</h1>
            <div class="subtitle">Amazon Review Helpfulness Prediction (Day 1-7)</div>
            <div style="font-size: 0.95em; margin-top: 15px; opacity: 0.9;">
                Nh√≥m: L√™ ƒêƒÉng Ho√†ng Tu·∫•n & V√µ Th·ªã Di·ªÖm Thanh<br>
                Tr∆∞·ªùng: ƒê·∫°i h·ªçc C√¥ng Ngh·ªá Th√¥ng Tin - ƒêHQG TP.HCM<br>
                Ng√†y: 27/10/2025
            </div>
        </div>
        
        <!-- Success Banner -->
        <div class="success-banner">
            <div class="icon">üéâ</div>
            <div>TARGET ƒê·∫†T ƒê∆Ø·ª¢C! AUC-PR = 0.7180 (‚â• 0.70)</div>
            <div style="font-size: 0.75em; margin-top: 12px;">
                Improvement: +9.65% | Status: HO√ÄN TH√ÄNH 100%
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="content">
            
            <!-- Section 1: Executive Summary -->
            <div class="section">
                <h2>üìã 1. T·ªîNG QUAN K·∫æT QU·∫¢</h2>
                
                <div class="success-box">
                    <h4>‚úÖ TH√ÄNH C√îNG ƒê·∫†T TARGET 0.70!</h4>
                    <ul>
                        <li><strong>Final Model:</strong> LightGBM with Hyperparameter Tuning</li>
                        <li><strong>Test AUC-PR:</strong> 0.7180 (v∆∞·ª£t target 2.57%)</li>
                        <li><strong>Baseline AUC-PR:</strong> 0.6548 (LightGBM V2 - Day 5)</li>
                        <li><strong>Improvement:</strong> +0.0632 (+9.65%)</li>
                        <li><strong>Training Time:</strong> 7.6 ph√∫t (Quick Mode - 9 combinations)</li>
                        <li><strong>Best Hyperparameters:</strong> numLeaves=50, learningRate=0.05</li>
                    </ul>
                </div>
                
                <h3>üìä Key Performance Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card champion">
                        <h4>üèÜ Final Test AUC-PR</h4>
                        <div class="value">0.7180</div>
                        <div class="label">Target: 0.70 ‚úÖ</div>
                    </div>
                    <div class="metric-card">
                        <h4>Test AUC-ROC</h4>
                        <div class="value">0.8423</div>
                        <div class="label">+0.3% vs baseline</div>
                    </div>
                    <div class="metric-card">
                        <h4>Test Accuracy</h4>
                        <div class="value">77.59%</div>
                        <div class="label">+1.4% vs baseline</div>
                    </div>
                    <div class="metric-card">
                        <h4>Improvement</h4>
                        <div class="value">+9.65%</div>
                        <div class="label">0.6548 ‚Üí 0.7180</div>
                    </div>
                </div>
                
                <h3>üóìÔ∏è Timeline Day 6-7</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-marker failed">‚ùå</div>
                        <div class="timeline-content failed">
                            <h4>Day 6A: Feature Engineering V3</h4>
                            <p><strong>K·∫øt qu·∫£:</strong> TH·∫§T B·∫†I - AUC-PR gi·∫£m xu·ªëng 0.6531 (-0.26%)</p>
                            <p><strong>Nguy√™n nh√¢n:</strong> 6 features th·ªß c√¥ng (is_very_long_review, is_critical_review, etc.) b·ªã redundant v√¨ LightGBM t·ª± ƒë·ªông h·ªçc thresholds</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-marker failed">‚ùå</div>
                        <div class="timeline-content failed">
                            <h4>Day 6B: Ensemble Voting</h4>
                            <p><strong>K·∫øt qu·∫£:</strong> TH·∫§T B·∫†I - AUC-PR gi·∫£m xu·ªëng 0.6371 (-2.7%)</p>
                            <p><strong>Nguy√™n nh√¢n:</strong> LogReg (0.5441) qu√° y·∫øu k√©o xu·ªëng LightGBM (0.6548), kh√¥ng c√≥ synergy</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-marker">‚úÖ</div>
                        <div class="timeline-content">
                            <h4>Day 7: Hyperparameter Tuning</h4>
                            <p><strong>K·∫øt qu·∫£:</strong> TH√ÄNH C√îNG - AUC-PR tƒÉng l√™n 0.7180 (+9.65%)</p>
                            <p><strong>Chi·∫øn l∆∞·ª£c:</strong> Grid Search 9 combinations v·ªõi 3-fold CV</p>
                            <p><strong>Best params:</strong> numLeaves=50, learningRate=0.05</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section 2: Model Evolution -->
            <div class="section">
                <h2>üìà 2. TI·∫æN TR√åNH PH√ÅT TRI·ªÇN MODEL (DAY 3-7)</h2>
                
                <div class="chart-container">
                    <canvas id="evolutionChart"></canvas>
                </div>
                
                <div class="comparison-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Day</th>
                            <th>AUC-PR</th>
                            <th>AUC-ROC</th>
                            <th>Accuracy</th>
                            <th>Training Time</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Baseline LogReg</td>
                            <td>Day 3</td>
                            <td>0.4353</td>
                            <td>0.6905</td>
                            <td>71.35%</td>
                            <td>4.2 ph√∫t</td>
                            <td><span class="badge failed">Baseline</span></td>
                        </tr>
                        <tr>
                            <td>LogReg Full Features</td>
                            <td>Day 4</td>
                            <td>0.4490</td>
                            <td>0.6995</td>
                            <td>72.18%</td>
                            <td>5.1 ph√∫t</td>
                            <td><span class="badge failed">+3.1%</span></td>
                        </tr>
                        <tr>
                            <td>Tuned LogReg</td>
                            <td>Day 5</td>
                            <td>0.5441</td>
                            <td>0.7375</td>
                            <td>74.56%</td>
                            <td>8.5 ph√∫t</td>
                            <td><span class="badge failed">+25.0%</span></td>
                        </tr>
                        <tr>
                            <td>LightGBM V2</td>
                            <td>Day 5</td>
                            <td>0.6548</td>
                            <td>0.8396</td>
                            <td>76.54%</td>
                            <td>1.9 ph√∫t</td>
                            <td><span class="badge success">+50.4%</span></td>
                        </tr>
                        <tr>
                            <td>LightGBM V3 (Features)</td>
                            <td>Day 6</td>
                            <td>0.6531</td>
                            <td>0.8392</td>
                            <td>76.84%</td>
                            <td>1.7 ph√∫t</td>
                            <td><span class="badge failed">-0.26%</span></td>
                        </tr>
                        <tr>
                            <td>Ensemble Voting</td>
                            <td>Day 6</td>
                            <td>0.6371</td>
                            <td>0.8327</td>
                            <td>77.33%</td>
                            <td>-</td>
                            <td><span class="badge failed">-2.7%</span></td>
                        </tr>
                        <tr class="champion">
                            <td><strong>üèÜ LightGBM Tuned</strong></td>
                            <td><strong>Day 7</strong></td>
                            <td><strong>0.7180</strong></td>
                            <td><strong>0.8423</strong></td>
                            <td><strong>77.59%</strong></td>
                            <td><strong>7.6 ph√∫t</strong></td>
                            <td><span class="badge champion">CHAMPION +65.0%</span></td>
                        </tr>
                    </tbody>
                </div>
                
                <div class="success-box">
                    <h4>üìä Ph√¢n T√≠ch Evolution</h4>
                    <ul>
                        <li><strong>Breakthrough 1 (Day 5):</strong> Chuy·ªÉn t·ª´ LogReg ‚Üí LightGBM = +20.3% (0.5441 ‚Üí 0.6548)</li>
                        <li><strong>Breakthrough 2 (Day 7):</strong> Hyperparameter Tuning = +9.65% (0.6548 ‚Üí 0.7180)</li>
                        <li><strong>Total Improvement:</strong> From 0.4353 ‚Üí 0.7180 = <strong>+65.0%</strong></li>
                        <li><strong>Key Lesson:</strong> Model architecture (tree vs linear) quan tr·ªçng h∆°n manual features</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 3: Hyperparameter Tuning Details -->
            <div class="section">
                <h2>üîß 3. HYPERPARAMETER TUNING PROCESS</h2>
                
                <h3>‚öôÔ∏è Grid Search Configuration</h3>
                <div class="info-box">
                    <h4>üéØ Search Strategy</h4>
                    <ul>
                        <li><strong>Mode:</strong> Quick Mode (9 combinations)</li>
                        <li><strong>Cross-Validation:</strong> 3-fold manual CV</li>
                        <li><strong>Total Trainings:</strong> 9 combos √ó 3 folds = 27 trainings</li>
                        <li><strong>Parameter Space:</strong>
                            <ul>
                                <li><code>numLeaves</code>: [31, 50, 100]</li>
                                <li><code>learningRate</code>: [0.05, 0.1, 0.15]</li>
                                <li><code>numIterations</code>: 100 (fixed)</li>
                                <li><code>minDataInLeaf</code>: 20 (fixed)</li>
                                <li><code>featureFraction</code>: 0.8 (fixed)</li>
                            </ul>
                        </li>
                        <li><strong>Training Data:</strong> 80,500 records ‚Üí ~60,600 train + ~20,000 validation per fold</li>
                    </ul>
                </div>
                
                <h3>üìä Tuning Results</h3>
                <div class="chart-container">
                    <canvas id="tuningResultsChart"></canvas>
                </div>
                
                <div class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>numLeaves</th>
                            <th>learningRate</th>
                            <th>Mean CV Score</th>
                            <th>Std Dev</th>
                            <th>Min Score</th>
                            <th>Max Score</th>
                            <th>Avg Time/Fold</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="champion">
                            <td><strong>ü•á 1</strong></td>
                            <td><strong>50</strong></td>
                            <td><strong>0.05</strong></td>
                            <td><strong>0.7049</strong></td>
                            <td>0.0082</td>
                            <td>0.6941</td>
                            <td>0.7138</td>
                            <td>15.2s</td>
                        </tr>
                        <tr>
                            <td>ü•à 2</td>
                            <td>31</td>
                            <td>0.05</td>
                            <td>0.7047</td>
                            <td>0.0077</td>
                            <td>0.6947</td>
                            <td>0.7133</td>
                            <td>14.2s</td>
                        </tr>
                        <tr>
                            <td>ü•â 3</td>
                            <td>100</td>
                            <td>0.05</td>
                            <td>0.7025</td>
                            <td>0.0085</td>
                            <td>0.6914</td>
                            <td>0.7120</td>
                            <td>18.1s</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>31</td>
                            <td>0.1</td>
                            <td>0.7000</td>
                            <td>0.0081</td>
                            <td>0.6895</td>
                            <td>0.7092</td>
                            <td>13.0s</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>50</td>
                            <td>0.1</td>
                            <td>0.6971</td>
                            <td>0.0080</td>
                            <td>0.6865</td>
                            <td>0.7057</td>
                            <td>16.1s</td>
                        </tr>
                    </tbody>
                </div>
                
                <div class="success-box">
                    <h4>üí° Key Findings</h4>
                    <ul>
                        <li><strong>Optimal Learning Rate:</strong> 0.05 (slow learning = better generalization)</li>
                        <li><strong>Optimal Tree Complexity:</strong> numLeaves=50 (sweet spot gi·ªØa underfitting v√† overfitting)</li>
                        <li><strong>CV Stability:</strong> Top 3 configs ƒë·ªÅu c√≥ std dev < 0.009 (consistent across folds)</li>
                        <li><strong>Speed vs Performance:</strong> numLeaves=31 nhanh h∆°n (14.2s) nh∆∞ng performance t∆∞∆°ng ƒë∆∞∆°ng 50 (0.7047 vs 0.7049)</li>
                        <li><strong>High Learning Rate Issue:</strong> learningRate=0.15 gi·∫£m performance (combo 6-9 ƒë·ªÅu < 0.70)</li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 4: Final Model Performance -->
            <div class="section">
                <h2>üéØ 4. FINAL MODEL EVALUATION</h2>
                
                <h3>üìä Test Set Performance (Full Evaluation)</h3>
                <div class="metrics-grid">
                    <div class="metric-card champion">
                        <h4>üèÜ AUC-PR (Primary Metric)</h4>
                        <div class="value">0.7180</div>
                        <div class="label">Target: 0.70 ‚úÖ (+2.57%)</div>
                    </div>
                    <div class="metric-card">
                        <h4>AUC-ROC</h4>
                        <div class="value">0.8423</div>
                        <div class="label">Baseline: 0.8396 (+0.32%)</div>
                    </div>
                    <div class="metric-card">
                        <h4>Accuracy</h4>
                        <div class="value">77.59%</div>
                        <div class="label">Baseline: 76.54% (+1.37%)</div>
                    </div>
                    <div class="metric-card">
                        <h4>Test Records</h4>
                        <div class="value">19,863</div>
                        <div class="label">Full evaluation dataset</div>
                    </div>
                </div>
                
                <h3>üìù Submission File Status</h3>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è NULL Handling Disclaimer (D·ª± √Ån H·ªçc T·∫≠p)</h4>
                    <ul>
                        <li><strong>Full Test Evaluation:</strong> 19,863 rows (AUC-PR: 0.7180)</li>
                        <li><strong>Submission File:</strong> 7,488 rows (37.7% of test set)</li>
                        <li><strong>Missing:</strong> 12,375 rows (62.3%) dropped do NULL values</li>
                        <li><strong>Root Cause:</strong> VectorAssembler v·ªõi <code>handleInvalid="skip"</code> drop rows c√≥ NULL trong metadata columns (price, product_avg_rating_meta, product_total_ratings)</li>
                        <li><strong>Submission Distribution:</strong> Helpful: 35.6% | Not Helpful: 64.4%</li>
                        <li><strong>Valid cho Demo:</strong> ‚úÖ File 7,488 rows ƒê·ª¶ ƒë·ªÉ demonstrate model predictions trong d·ª± √°n h·ªçc t·∫≠p</li>
                        <li><strong>Gi·∫£i ph√°p Production:</strong> C·∫ßn impute NULL values (mean/median/mode) thay v√¨ skip</li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4>üìÑ Deliverables</h4>
                    <ul>
                        <li><strong>Final Model:</strong> <code>output/lightgbm_tuned/model/</code></li>
                        <li><strong>Feature Pipeline:</strong> <code>output/lightgbm_tuned/feature_pipeline/</code></li>
                        <li><strong>Tuning Results:</strong> <code>output/lightgbm_tuned/tuning_results.json</code></li>
                        <li><strong>Submission File:</strong> <code>output/submission.csv</code> (7,488 rows)</li>
                        <li><strong>Reports:</strong> <code>docs/day6_report.html</code> + <code>docs/week6_final_report.html</code></li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 5: Lessons Learned -->
            <div class="section">
                <h2>üìö 5. B√ÄI H·ªåC QUAN TR·ªåNG</h2>
                
                <h3>‚úÖ Th√†nh C√¥ng</h3>
                <div class="success-box">
                    <h4>üéØ Chi·∫øn L∆∞·ª£c Hi·ªáu Qu·∫£</h4>
                    <ul>
                        <li><strong>Model Selection:</strong> LightGBM (tree-based) v∆∞·ª£t tr·ªôi LogReg (linear) v·ªõi +20% improvement</li>
                        <li><strong>Hyperparameter Tuning:</strong> Grid search ƒë∆°n gi·∫£n v·ªõi CV ƒë·∫°t +9.65% improvement</li>
                        <li><strong>Feature Engineering:</strong> TF-IDF (20k dimensions) + metadata features (11 features) = powerful combination</li>
                        <li><strong>Validation Strategy:</strong> 3-fold CV ƒë·∫£m b·∫£o stability (std dev < 1%)</li>
                        <li><strong>Incremental Approach:</strong> Baseline ‚Üí Full features ‚Üí Better model ‚Üí Tuning = systematic improvement</li>
                    </ul>
                </div>
                
                <h3>‚ùå Th·∫•t B·∫°i & Nguy√™n Nh√¢n</h3>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è C√°c Th·ª≠ Nghi·ªám Kh√¥ng Hi·ªáu Qu·∫£</h4>
                    <ul>
                        <li><strong>Manual Feature Engineering:</strong> 6 features th·ªß c√¥ng (is_very_long_review, is_critical_review, etc.) b·ªã redundant v√¨ tree models T·ª∞ ƒê·ªòNG h·ªçc thresholds v√† interactions</li>
                        <li><strong>Weighted Voting Ensemble:</strong> LogReg (0.5441) + LightGBM (0.6548) ‚Üí 0.6371 v√¨ LogReg qu√° y·∫øu k√©o xu·ªëng, kh√¥ng c√≥ synergy</li>
                        <li><strong>K·∫øt lu·∫≠n:</strong> V·ªõi tree models, focus v√†o hyperparameter tuning thay v√¨ manual features</li>
                    </ul>
                </div>
                
                <h3>üîß Data Quality Issues</h3>
                <div class="info-box">
                    <h4>‚ö†Ô∏è NULL Handling Challenge</h4>
                    <ul>
                        <li><strong>V·∫•n ƒë·ªÅ:</strong> 62% test data c√≥ NULL trong metadata columns (price, product ratings)</li>
                        <li><strong>Temporary Solution:</strong> handleInvalid="skip" ƒë·ªÉ avoid crash</li>
                        <li><strong>Impact:</strong> Submission ch·ªâ 37.7% test set (7,488/19,863 rows)</li>
                        <li><strong>Production Fix:</strong> C·∫ßn imputation strategy:
                            <ul>
                                <li>price: impute v·ªõi median price per category</li>
                                <li>product_avg_rating_meta: impute v·ªõi global mean 4.0</li>
                                <li>product_total_ratings: impute v·ªõi 0 (new product assumption)</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Section 6: Technical Details -->
            <div class="section">
                <h2>‚öôÔ∏è 6. CHI TI·∫æT K·ª∏ THU·∫¨T</h2>
                
                <h3>üîß Final Model Configuration</h3>
                <div class="highlight">
                    <strong>LightGBM Hyperparameters:</strong><br>
                    <code>numLeaves: 50</code><br>
                    <code>learningRate: 0.05</code><br>
                    <code>numIterations: 100</code><br>
                    <code>minDataInLeaf: 20</code><br>
                    <code>featureFraction: 0.8</code><br>
                    <code>objective: binary</code><br>
                    <code>labelCol: is_helpful</code><br>
                    <code>featuresCol: features</code>
                </div>
                
                <h3>üîÑ Feature Pipeline</h3>
                <div class="comparison-table">
                    <thead>
                        <tr>
                            <th>Stage</th>
                            <th>Transformer</th>
                            <th>Configuration</th>
                            <th>Output</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Tokenizer</td>
                            <td>inputCol: clean_text</td>
                            <td>words (array of tokens)</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>HashingTF</td>
                            <td>numFeatures: 20,000</td>
                            <td>rawFeatures (term frequency vectors)</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>IDF</td>
                            <td>minDocFreq: 10</td>
                            <td>text_features (TF-IDF vectors)</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>VectorAssembler</td>
                            <td>text_features + 11 metadata, handleInvalid: skip</td>
                            <td>features (final 20,011-dimension vectors)</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>LightGBMClassifier</td>
                            <td>Best hyperparameters from tuning</td>
                            <td>prediction + probability</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>üíæ Dataset Statistics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Total Records</h4>
                        <div class="value" style="font-size: 2.2em;">100,363</div>
                        <div class="label">Amazon Movies & TV reviews</div>
                    </div>
                    <div class="metric-card">
                        <h4>Training Set</h4>
                        <div class="value" style="font-size: 2.2em;">80,500</div>
                        <div class="label">80% split (after NULL drop: ~60,600)</div>
                    </div>
                    <div class="metric-card">
                        <h4>Test Set (Full)</h4>
                        <div class="value" style="font-size: 2.2em;">19,863</div>
                        <div class="label">20% split for evaluation</div>
                    </div>
                    <div class="metric-card">
                        <h4>Submission Rows</h4>
                        <div class="value" style="font-size: 2.2em;">7,488</div>
                        <div class="label">37.7% of test (no NULLs)</div>
                    </div>
                </div>
                
                <h3>üñ•Ô∏è Execution Environment</h3>
                <div class="comparison-table">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Version/Config</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Spark Version</td>
                            <td>3.5.7</td>
                        </tr>
                        <tr>
                            <td>SynapseML Version</td>
                            <td>0.11.4</td>
                        </tr>
                        <tr>
                            <td>Python Version</td>
                            <td>3.11</td>
                        </tr>
                        <tr>
                            <td>Driver Memory</td>
                            <td>8 GB</td>
                        </tr>
                        <tr>
                            <td>Executor Memory</td>
                            <td>6 GB</td>
                        </tr>
                        <tr>
                            <td>Storage</td>
                            <td>HDFS (localhost:9000)</td>
                        </tr>
                        <tr>
                            <td>Operating System</td>
                            <td>Windows 11</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Section 7: Conclusion -->
            <div class="section">
                <h2>üéì 7. K·∫æT LU·∫¨N</h2>
                
                <div class="success-box">
                    <h4>‚úÖ D·ª∞ √ÅN DAY 1-7 HO√ÄN TH√ÄNH 100% - TARGET ƒê·∫†T ƒê∆Ø·ª¢C!</h4>
                    <ul>
                        <li><strong>M·ª•c ti√™u ban ƒë·∫ßu:</strong> AUC-PR ‚â• 0.70</li>
                        <li><strong>K·∫øt qu·∫£ ƒë·∫°t ƒë∆∞·ª£c:</strong> AUC-PR = 0.7180 (v∆∞·ª£t +2.57%)</li>
                        <li><strong>Improvement t·ªïng:</strong> +65.0% so v·ªõi baseline (0.4353 ‚Üí 0.7180)</li>
                        <li><strong>Th·ªùi gian th·ª±c hi·ªán:</strong> 7 ng√†y (Day 1-7, bao g·ªìm 2 ng√†y th·∫•t b·∫°i)</li>
                        <li><strong>Ph∆∞∆°ng ph√°p th√†nh c√¥ng:</strong> Hyperparameter Tuning v·ªõi Grid Search + 3-fold CV</li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4>üì¶ Deliverables</h4>
                    <ul>
                        <li>‚úÖ Final tuned LightGBM model (AUC-PR: 0.7180)</li>
                        <li>‚úÖ Feature pipeline (TF-IDF 20k + 11 metadata)</li>
                        <li>‚úÖ Submission file (7,488 predictions - valid cho demo)</li>
                        <li>‚úÖ Comprehensive documentation (2 HTML reports)</li>
                        <li>‚úÖ Complete code repository (9 Python scripts)</li>
                        <li>‚úÖ Tuning results JSON (9 configurations tested)</li>
                    </ul>
                </div>
                
                <div class="highlight">
                    <h4 style="color: #00b894; margin-bottom: 15px;">üèÜ TH√ÄNH T·ª∞U N·ªîI B·∫¨T</h4>
                    <p style="font-size: 1.1em; line-height: 1.8;">
                        T·ª´ m·ªôt baseline ƒë∆°n gi·∫£n (LogReg 0.4353) ƒë·∫øn model production-ready (LightGBM Tuned 0.7180), 
                        ch√∫ng t√¥i ƒë√£ tr·∫£i qua 7 iterations v·ªõi 2 th·∫•t b·∫°i v√† 1 breakthrough th√†nh c√¥ng. 
                        Qua tr√¨nh n√†y ch·ª©ng minh t·∫ßm quan tr·ªçng c·ªßa: (1) model selection, (2) systematic experimentation, 
                        (3) learning from failures, v√† (4) hyperparameter optimization.
                    </p>
                    <p style="font-size: 1.1em; line-height: 1.8; margin-top: 15px;">
                        <strong>K·∫øt qu·∫£ cu·ªëi:</strong> Model ƒë·∫°t target 0.70 v·ªõi margin +2.57%, s·∫µn s√†ng deploy 
                        trong m√¥i tr∆∞·ªùng production (sau khi fix NULL imputation). Submission file (7,488 rows) 
                        ƒë·ªß ƒë·ªÉ demonstrate kh·∫£ nƒÉng prediction c·ªßa model trong d·ª± √°n h·ªçc t·∫≠p.
                    </p>
                </div>
                
                <h3>üöÄ Next Steps (Future Work)</h3>
                <div class="warning-box">
                    <h4>üîß Production Improvements</h4>
                    <ul>
                        <li><strong>NULL Imputation:</strong> Implement median/mean imputation cho metadata columns ƒë·ªÉ c√≥ full 19,863 predictions</li>
                        <li><strong>Full Grid Search:</strong> Test 81 combinations (vs 9 Quick Mode) ƒë·ªÉ t√¨m optimal parameters</li>
                        <li><strong>Stacking Ensemble:</strong> Th·ª≠ meta-learning approach v·ªõi LogReg + LightGBM + XGBoost</li>
                        <li><strong>Deep Learning:</strong> Test BERT embeddings thay v√¨ TF-IDF cho text features</li>
                        <li><strong>Feature Importance Analysis:</strong> Remove low-importance features ƒë·ªÉ tƒÉng inference speed</li>
                    </ul>
                </div>
            </div>
            
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p><strong>üéì B√°o C√°o Cu·ªëi K·ª≥ Ho√†n Ch·ªânh (Day 1-7)</strong></p>
            <p>Amazon Review Helpfulness Prediction - Target ƒê·∫†T ƒê∆Ø·ª¢C (0.7180 ‚â• 0.70)</p>
            <p>Nh√≥m: L√™ ƒêƒÉng Ho√†ng Tu·∫•n (Infrastructure & ML Engineering) & V√µ Th·ªã Di·ªÖm Thanh (Data Science)</p>
            <p>Tr∆∞·ªùng: ƒê·∫°i h·ªçc C√¥ng Ngh·ªá Th√¥ng Tin - ƒêHQG TP.HCM</p>
            <p>Kh√≥a: HK7 - NƒÉm 2025</p>
            <p style="margin-top: 20px; font-size: 0.95em;">
                Generated: 27/10/2025 02:40 AM | Status: <strong style="color: #55efc4;">100% HO√ÄN TH√ÄNH ‚úÖ</strong>
            </p>
        </div>
    </div>
    
    <script>
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.font.size = 13;
        
        // 1. Evolution Chart (Day 3-7)
        const evolutionCtx = document.getElementById('evolutionChart').getContext('2d');
        new Chart(evolutionCtx, {
            type: 'line',
            data: {
                labels: ['Day 3\nBaseline', 'Day 4\nFull Features', 'Day 5\nTuned LogReg', 'Day 5\nLightGBM V2', 'Day 6\nV3/Ensemble', 'Day 7\nTuned LightGBM'],
                datasets: [{
                    label: 'AUC-PR Progress',
                    data: [0.4353, 0.4490, 0.5441, 0.6548, 0.6371, 0.7180],
                    borderColor: '#00b894',
                    backgroundColor: 'rgba(0, 184, 148, 0.1)',
                    borderWidth: 4,
                    pointRadius: 10,
                    pointHoverRadius: 14,
                    pointBackgroundColor: '#00b894',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 3,
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Target Line',
                    data: [0.70, 0.70, 0.70, 0.70, 0.70, 0.70],
                    borderColor: '#e74c3c',
                    borderWidth: 3,
                    borderDash: [10, 5],
                    pointRadius: 0,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 0.80,
                        title: {
                            display: true,
                            text: 'AUC-PR Score',
                            font: { size: 16, weight: 'bold' }
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(2);
                            }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Model Evolution Timeline',
                            font: { size: 16, weight: 'bold' }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Model Performance Evolution (Day 3-7)',
                        font: { size: 20, weight: 'bold' },
                        padding: 25
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return 'AUC-PR: ' + context.parsed.y.toFixed(4);
                                } else {
                                    return 'Target: 0.70';
                                }
                            }
                        }
                    }
                }
            }
        });
        
        // 2. Tuning Results Chart
        const tuningCtx = document.getElementById('tuningResultsChart').getContext('2d');
        new Chart(tuningCtx, {
            type: 'bar',
            data: {
                labels: [
                    'L50_LR05', 'L31_LR05', 'L100_LR05',
                    'L31_LR10', 'L50_LR10', 'L31_LR15',
                    'L50_LR15', 'L100_LR10', 'L100_LR15'
                ],
                datasets: [{
                    label: 'Mean CV Score',
                    data: [0.7049, 0.7047, 0.7025, 0.7000, 0.6971, 0.6961, 0.6922, 0.6920, 0.6829],
                    backgroundColor: [
                        '#00b894', '#55efc4', '#00cec9',
                        '#74b9ff', '#a29bfe', '#fdcb6e',
                        '#ffeaa7', '#fab1a0', '#ff7675'
                    ],
                    borderColor: '#00b894',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 0.65,
                        max: 0.72,
                        title: {
                            display: true,
                            text: 'Mean CV AUC-PR',
                            font: { size: 16, weight: 'bold' }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Configuration (L=numLeaves, LR=learningRate)',
                            font: { size: 16, weight: 'bold' }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Hyperparameter Tuning Results (9 Configurations)',
                        font: { size: 20, weight: 'bold' },
                        padding: 25
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'CV Score: ' + context.parsed.y.toFixed(4);
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
